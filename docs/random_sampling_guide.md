# ランダムサンプリング パラメータ範囲ガイド

## 設計変数の範囲定義

このプロジェクトで使用される建築設計パラメータの標準的な範囲を以下に示します。
これらの範囲は `pso_config.py` で定義されており、PSO最適化やランダムサンプリングで使用されます。

### 建物寸法パラメータ

| パラメータ | 最小値 | 最大値 | 単位 | 説明 |
|-----------|--------|--------|------|------|
| **Lx** | 8.0 | 12.0 | m | 建物幅（X方向） |
| **Ly** | 6.0 | 12.0 | m | 建物奥行（Y方向） |
| **H1** | 2.6 | 3.5 | m | 1階高さ |
| **H2** | 2.6 | 3.2 | m | 2階高さ |

### 構造部材寸法パラメータ

| パラメータ | 最小値 | 最大値 | 単位 | 説明 |
|-----------|--------|--------|------|------|
| **tf** | 350 | 600 | mm | 床スラブ厚 |
| **tr** | 350 | 600 | mm | 屋根スラブ厚 |
| **bc** | 400 | 1000 | mm | 柱幅 |
| **hc** | 400 | 1000 | mm | 柱高さ（断面） |
| **tw_ext** | 300 | 500 | mm | 外壁厚 |

### 設計特性パラメータ

| パラメータ | 最小値 | 最大値 | 単位 | 説明 |
|-----------|--------|--------|------|------|
| **wall_tilt_angle** | -30 | 30 | 度 | 壁傾斜角（負値：内傾斜、正値：外傾斜） |
| **window_ratio_2f** | 0.1 | 1.0 | - | 2階窓面積比（0.1=10%、1.0=100%） |
| **roof_morph** | 0.0 | 1.0 | - | 屋根形態（0.0=フラット、1.0=かまぼこ） |
| **roof_shift** | 0.0 | 1.0 | - | 屋根シフト量 |
| **balcony_depth** | 1.0 | 3.0 | m | バルコニー奥行 |

### 材料パラメータ

| パラメータ | 値の範囲 | 説明 |
|-----------|----------|------|
| **material_columns** | 0 または 1 | 柱材料（0：コンクリート、1：木材） |
| **material_floor1** | 0 または 1 | 1階床材料（0：コンクリート、1：木材） |
| **material_floor2** | 0 または 1 | 2階床材料（0：コンクリート、1：木材） |
| **material_roof** | 0 または 1 | 屋根材料（0：コンクリート、1：木材） |
| **material_walls** | 0 または 1 | 外壁材料（0：コンクリート、1：木材） |
| **material_balcony** | 0 または 1 | バルコニー材料（0：コンクリート、1：木材） |

## 範囲設定の根拠

### 構造的制約
- **柱寸法（bc, hc）**: 最小400mmは構造安定性の確保のため
- **スラブ厚（tf, tr）**: 最小350mmは振動・たわみ制御のため
- **外壁厚（tw_ext）**: 最小300mmは断熱性能と構造強度のため

### 居住性制約
- **階高（H1, H2）**: 最小2.6mは建築基準法の居室高さ規定
- **建物寸法（Lx, Ly）**: 最小値は実用的な居住空間の確保

### 施工性制約
- **バルコニー奥行**: 最大3.0mは片持ち構造の限界
- **壁傾斜角**: ±30度は施工可能な角度範囲

## 使用例

### PSOでの使用
```python
from pso_config import variable_ranges

# 範囲内でランダムに初期化
for param, (min_val, max_val) in variable_ranges.items():
    value = random.uniform(min_val, max_val)
```

### 演習での拡張範囲
学習目的で、以下のような範囲外の値も試すことがあります：
- **Lx**: 6.0m（最小値以下）- 極小建物の挙動観察
- **柱寸法**: 200-300mm（最小値以下）- 構造的限界の理解
- **階高**: 2.5m, 4.0m（範囲外）- 快適性への影響観察

これらの拡張範囲は、パラメータの影響を理解するための教育的な目的で使用されます。

## 注意事項

1. **安全率の確保**: 範囲内でも安全率2.0を下回る組み合わせが存在します
2. **材料の組み合わせ**: 木材とコンクリートの混合構造は実際の施工性を考慮する必要があります
3. **コスト最適化**: 範囲の上限値を使用すると過剰設計になる可能性があります

## 関連ファイル
- `pso_config.py`: PSO設定とパラメータ範囲の定義
- `test_generate_building.py`: テスト用のデフォルト値設定
- `student_exercises_v2.md`: 学習用の拡張範囲を含む演習